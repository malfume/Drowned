print("Starting script 1")
local keyString = _G.Key -- Use the global key
local KeyLibrary = KeyLibrary or loadstring(game:HttpGet("https://raw.githubusercontent.com/MaGiXxScripter0/keysystemv2api/master/version2_2.lua"))()
print("Loaded KeyLibrary")
KeyLibrary.Set({
    ApplicationName = "UruyuHub", -- /getkey/(ApplicationName)
    AuthType = "clientid", -- Can select verification with ClientId or IP ("clientid" or "ip")
    TrueData = "true2", -- When key is valid
    FalseData = "false1", -- When key is invalid
    Debug = true -- Enable debug mode
})
print("Set KeyLibrary parameters")

local o_data = KeyLibrary.VerifyPremiumKey(keyString)
print("Verified key, result: " .. tostring(o_data))

if "true2" == o_data then
    print("Key is a valid key !")
    local scriptUrl
    if game.GameId == 14070029709 then -- Replace with your game ID
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul"
    elseif game.GameId == 14071822972 then -- Replace with your other game ID
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul"
    elseif game.GameId == 14069122388 then -- Add more game IDs like this
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul"
    elseif game.GameId == 14069678431 then
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul"
    elseif game.GameId == 14069866342 then
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul"
    elseif game.GameId == 14069956183 then
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul"
    elseif game.GameId == 8501406566 then -- New game ID
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/LegacyPiece"
        print("Game ID matched: 8501406566")
    elseif game.GameId == 14070000001 then -- New game ID
        scriptUrl = "https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul"
    else
        print("Unknown game ID")
        return
    end
    local scriptContent = game:HttpGet(scriptUrl)
    if scriptContent then
        print("Script content retrieved")
        local scriptFunction = loadstring(scriptContent)
        if scriptFunction then
            print("Script loaded successfully")
            scriptFunction() -- Execute the loaded script
            print("Executed script")
        else
            print("Failed to load script: invalid Lua syntax")
        end
    else
        print("Failed to load script: unable to retrieve content")
    end
elseif "false1" == o_data then
    print("Key is non-valid !")
else
    print("error")
end
