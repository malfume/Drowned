print("Starting script")
local keyString = _G.Key -- Use the global key
local KeyLibrary = KeyLibrary or loadstring(game:HttpGet("https://raw.githubusercontent.com/MaGiXxScripter0/keysystemv2api/master/version2_2.lua"))()
print("Loaded KeyLibrary")
KeyLibrary.Set({
    ApplicationName = "UruyuHub", -- /getkey/(ApplicationName)
    AuthType = "clientid", -- Can select verification with ClientId or IP ("clientid" or "ip")
    TrueData = "true2", -- When key is valid
    FalseData = "false1", -- When key is invalid
    Debug = true -- Enable debug mode
})
print("Set KeyLibrary parameters")

local o_data = KeyLibrary.VerifyPremiumKey(keyString)
print("Verified key, result: " .. tostring(o_data))

if "true2" == o_data then
    print("Key is a valid key !")
    local scriptContent = game:HttpGet("https://raw.githubusercontent.com/malfume/Drowned/main/DrownedHubTypesoul")
    if scriptContent then
        local scriptFunction = loadstring(scriptContent)
        if scriptFunction then
            scriptFunction() -- Execute the loaded script
            print("Executed script")
        else
            print("Failed to load script: invalid Lua syntax")
        end
    else
        print("Failed to load script: unable to retrieve content")
    end
elseif "false1" == o_data then
    print("Key is non-valid !")
else
    print("error")
end
